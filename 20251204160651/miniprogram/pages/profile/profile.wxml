<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-section">
    <view class="user-info" wx:if="{{userInfo}}">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-details">
        <view class="nickname">{{userInfo.nickName}}</view>
        <view class="user-status">
          <text class="status-dot {{hasCheckin ? 'checked' : ''}}"></text>
          <text class="status-text">{{hasCheckin ? 'å·²ç­¾åˆ°' : 'æœªç­¾åˆ°'}}</text>
        </view>
      </view>
    </view>
    
    <view class="login-prompt" wx:else bindtap="getUserProfile">
      <button class="login-btn">ç‚¹å‡»ç™»å½•</button>
    </view>
  </view>

  <!-- ç­¾åˆ°ä¿¡æ¯ -->
  <view class="info-section" wx:if="{{hasCheckin && checkinData}}">
    <view class="section-title">ç­¾åˆ°ä¿¡æ¯</view>
    <view class="info-card">
      <view class="info-item">
        <text class="info-label">å§“åï¼š</text>
        <text class="info-value">{{checkinData.name}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">éƒ¨é—¨ï¼š</text>
        <text class="info-value">{{checkinData.department}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">ç­¾åˆ°æ—¶é—´ï¼š</text>
        <text class="info-value">{{checkinData.checkinTime}}</text>
      </view>
    </view>
  </view>

  <!-- æ¸¸æˆè®°å½• -->
  <view class="info-section" wx:if="{{gameRecords.length > 0}}">
    <view class="section-title">æ¸¸æˆè®°å½•</view>
    <view class="record-card">
      <view class="record-item" wx:for="{{gameRecords}}" wx:key="time">
        <view class="record-info">
          <view class="record-type">{{item.gameType}}</view>
          <view class="record-time">{{item.time}}</view>
        </view>
        <view class="record-result">
          <view class="record-score">{{item.score}}åˆ†</view>
          <view class="record-rank">ç¬¬{{item.rank}}å</view>
        </view>
      </view>
    </view>
  </view>

  <!-- ä¸­å¥–è®°å½• -->
  <view class="info-section" wx:if="{{lotteryHistory.length > 0}}">
    <view class="section-title">ä¸­å¥–è®°å½•</view>
    <view class="prize-card">
      <view class="prize-item" wx:for="{{lotteryHistory}}" wx:key="time">
        <view class="prize-icon">ğŸ</view>
        <view class="prize-info">
          <view class="prize-name">{{item.prize}}</view>
          <view class="prize-time">{{item.time}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-item" bindtap="logout">
      <view class="menu-icon">ğŸšª</view>
      <view class="menu-text">é€€å‡ºç™»å½•</view>
      <view class="menu-arrow">â€º</view>
    </view>
  </view>

  <!-- ç‰ˆæœ¬ä¿¡æ¯ -->
  <view class="footer-section">
    <view class="app-info">
      <view class="app-name">iLuckå¹´ä¼šç³»ç»Ÿ</view>
      <view class="app-version">v1.0.0</view>
    </view>
  </view>
</view>